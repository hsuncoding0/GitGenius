<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GitGenius</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css"/>
</head>
<body class="bg-gray-100 text-gray-800">
<div class="p-6 max-w-7xl mx-auto">
  <h1 class="text-4xl font-bold mb-4 text-center">GitGenius</h1>

  <div class="flex gap-4 mb-4">
    <a href="/oauth/login" class="bg-black text-white px-4 py-2 rounded hover:bg-gray-800">GitHub 登入</a>
    <input id="githubUrl" type="text" placeholder="GitHub Repo URL" class="border p-2 flex-1 rounded">
    <button id="fetchBtn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">讀取 Repo</button>
  </div>

  <textarea id="userRequest" placeholder="輸入修改或新增功能" class="border p-2 h-24 rounded w-full mb-2"></textarea>
  <button id="aiGenerateBtn" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mb-2">AI 自動生成整個 Repo</button>

  <div class="flex gap-4 mt-4">
    <div id="fileTree" class="w-1/4 bg-white p-2 rounded shadow h-[600px] overflow-auto"></div>
    <div class="flex-1 flex flex-col gap-2">
      <div id="editor" class="flex-1 border rounded"></div>
      <button id="updateGitHubBtn" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 mt-2">更新 GitHub</button>
      <div id="diffContainer" class="mt-4 bg-white p-2 rounded shadow h-[300px] overflow-auto"></div>
    </div>
  </div>

  <div id="message" class="mt-4 p-2 text-center text-white rounded hidden"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html.min.js"></script>
<script type="module" src="tree.js"></script>
<script type="module" src="editor.js"></script>
<script type="module" src="diff.js"></script>
<script type="module" src="main.js"></script>
</body>
</html>
